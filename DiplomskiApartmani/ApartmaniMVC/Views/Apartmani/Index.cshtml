@model IEnumerable<ApartmaniService.DTO.ApartmanDTO>

@{
    ViewBag.Title = "Index";
}

<script src="@Url.Content("~/Scripts/jquery-3.3.1.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")" type="text/javascript"></script>

<h2>Popis apartmana</h2>
<p>
    @Html.ActionLink("Novi apartman", "Novi", false)
</p>
<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Naziv)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Grad)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Adresa)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.BrojOsoba)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Cijena)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Povrsina)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Naziv)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Grad)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Adresa)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.BrojOsoba)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Cijena)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Povrsina)
        </td>
        <td>
            @Html.ActionLink("Uredi", "Uredi", new { id = item.ApartmanID }) |
            @Ajax.ActionLink("Rezervacije", "Detalji", "Apartmani", new {id = item.ApartmanID},
                        new AjaxOptions() {
                            HttpMethod = "GET",
                            UpdateTargetId = "Display",
                            InsertionMode = InsertionMode.Replace
                        })
        </td>
    </tr>
}
</table>

<div id="Display">

</div>
